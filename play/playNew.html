<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/to_index.css">
    <link rel="stylesheet" href="../css/to_playNew.css">
</head>

<body>
    <!-- 导航栏部分 -->
    <div class="nav">
        <div class="connet">
            <img src="../img/logonew.png" alt="">
            <ul class="nav_con">
                <li><a href="../index.html">首页</a></li>
                <li><a href="../play/playNew.html">酷玩</a></li>
                <li><a href="#">导购</a></li>
                <li><a href="#">试用</a></li>
                <li><a href="#">报告</a></li>
            </ul>
            <div class="right_con">
                <div>
                    <img src="../img/search.png" alt="">
                    <button class="btn">注册</button>
                    <button class="btn">登录</button>
                </div>
            </div>
        </div>
    </div>


    <!-- content -->
    <div class="content_box">
        <div class="title">
            <h1>发现酷玩</h1>
        </div>
        <div class="fu_title">
            <div><a href="#">最新</a></div>
            <div><a href="#">最热</a></div>
            <div><a href="#">品牌</a></div>
        </div>
        <!-- 这里展示请求的内容 -->
        <div class="text_ajax_content_box">
            <div class=" ajax_the_new ajax_box"></div>
            <div class="ajax_the_hot ajax_box"></div>
            <div class="ajax_the_pinpai ajax_box"></div>
            <div class="more_down">
                <span id="more_selection"><img src="../img/more.png" alt="" style="float: left;margin-top: 8px;">
                    <span style="width: 140px;">加载更多</span>
                </span>
            </div>
        </div>
    </div>





    <!-- footer部分 -->
    <div class="footer">
        <div class="footer_con">
            <div class="left_box">
                <img src="../img/code.png" alt="">
            </div>
            <div class="right_box">
                <dl>
                    <img src="../img/logoImg.jpg" alt="">
                    <p>全球酷玩试用导购平台<br>库新奇好玩品质</p>
                    <p>微信添加“JguoJguo”<br>获取我们的服务</p>
                </dl>
                <dl>
                    <dt><a href="#">免费试用</a></dt>
                    <dd><a href="#">使用流程</a></dd>
                    <dd><a href="#">如何提高成功率</a></dd>
                </dl>
                <dl>
                    <dt><a href="#">友情链接</a></dt>
                    <dd><a href="#">制动系</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#">WEIBUSI</a></dd>
                    <dd><a href="#">搜狐IT</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#">腾讯科技</a></dd>
                    <dd><a href="#">搜狐数码</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#">凤凰科技</a></dd>
                    <dd><a href="#">凤凰数码</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#">PConline</a></dd>
                    <dd><a href="#">泡泡网</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#">www卡法</a></dd>
                    <dd><a href="#">ZUK社区</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#">一米emie</a></dd>
                    <dd><a href="#">极客公园</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#">依循一起玩</a></dd>
                    <dd><a href="#">国库</a></dd>
                </dl>
                <dl>
                    <dt><a href="#">购买攻略</a></dt>
                    <dd><a href="#">美亚海淘教程</a></dd>
                    <dd><a href="#">日亚海涛教程</a></dd>
                    <dd><a href="#">滑套转运攻略</a></dd>
                    <dd><a href="#">kickstarter众筹购买攻略</a></dd>
                    <dd><a href="#">indiegogo众筹购买攻略</a></dd>

                </dl>
                <dl>
                    <dt><a href="#">厂商合作</a></dt>
                    <dd><a href="#">关于极果</a></dd>
                    <dd><a href="#">联系我们</a></dd>
                    <dd><a href="#">商务合作：DB@jiguo.com</a></dd>
                    <dd><a href="#">CEO合作：CEO@jiguo.com</a></dd>
                </dl>
            </div>
        </div>
        <p class="bottom">©2016极果版权所有</p>
    </div>
    <script src="../js/jquery.min.js"></script>
    <script src="../js/myAjax.js"></script>
    <script src="../js/to_playNew.js"></script>

    <script id="playNew" type="text/html">
        {{each value}}
        <div class="arry_eight_box">
            {{each $value}}
            <div class="inner_box_small">
                <div class="playNew_top_box"><a href="#"><img src="{{$value.img}}" alt=""></a></div>
                <div class="playNew_bottom_box">
                    <h4>{{$value.text}}</h4>
                    <div class="des">{{$value.description}}</div>
                    <div class="under_box">
                        <div class="price">{{$value.price}}</div>
                        <div class="like_letter">
                            <span><span><img src="../img/xin.png" alt=""></span>&nbsp;{{$value.like}}</span>
                            <span><span><img src="../img/reply.png" alt=""></span>&nbsp;{{$value.words}}</span>
                        </div>
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
        {{/each}}
    </script>



    <script id="Pinpai" type="text/html">
        {{each value}}
        <div class="pin_out_box">
            <h3><span></span>
                <p>{{$value.title}}</p>
            </h3>
            {{each $value.list.slice(0,11)}}
            <div class="pin_show">

                <div>
                    <img src="../img/cat_{{$index+1}}.png" alt=""><br>
                    <a href="#">{{$value.productName}}</a><span>({{$value.nums}})</span>
                </div>
            </div>
            {{/each}}
            <div class="pin_under">
                {{each $value.list}}
                <div class="pin_bottom">
                    <a href="#">{{$value.productName}}</a><span>({{$value.nums}})</span></div>
                {{/each}}
            </div>
        </div>
        {{/each}}
    </script>
    <!-- 引入模板 -->
    <script src="../js/template-web.js"></script>
    <script>
        // 进行ajax请求拿取数据
        request("get", "/play/new", "", success, error);
        // request('get', "/play/hot", "", successhot, errorhot);
        // request('get', '/play/category', '', successpin, errorpin);
        // 将数据和模板关联起来
        // ---------------------------new------------------------------
        var ajax_the_new = document.getElementsByClassName('ajax_the_new')[0];

        function success(res) {
            console.log(res.slice(0, 2));
            console.log(res.length);
            rederHtml(res.slice(0, 2), ajax_the_new);
        }
        // 输出错误信息
        function error(res) {
            console.log(res);
        }
        // -----------------------hot---------------------------
        var ajax_the_hot = document.getElementsByClassName('ajax_the_hot')[0];

        function successhot(res) {
            rederHtml(res.slice(2, 3), ajax_the_hot);
        }
        // 输出错误信息
        function errorhot(res) {
            console.log(res);
        }
        // --------------------------pinpai--------------------------
        var ajax_the_pinpai = document.getElementsByClassName('ajax_the_pinpai')[0];

        function successpin(res) {
            console.log(res);
            rederHtml_model2(res.slice(0, 2), ajax_the_pinpai);
        }
        // 输出错误信息
        function errorpin(res) {
            console.log(res);
        }






        function rederHtml(res, dom) {
            var html_res = template('playNew', {
                value: res
            })
            dom.innerHTML = html_res;
        }

        function rederHtml_model2(res, dom) {
            var html_res = template('Pinpai', {
                value: res
            })
            dom.innerHTML = html_res;
        }
    </script>

</body>

</html>